<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: Sprout::Executable::ParameterFactory</title>
<link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (P)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../Sprout.html" title="Sprout (module)">Sprout</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Executable.html" title="Sprout::Executable (module)">Executable</a></span></span>
     &raquo; 
    <span class="title">ParameterFactory</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Sprout::Executable::ParameterFactory
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Sprout::Executable::ParameterFactory</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">sprout/lib/sprout/executable/parameter_factory.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A factory to create concrete Sprout::Executable::Param entities from a set
of known types.</p>

<p>If an unrecognized Class reference is provided we will instantiate it and
ensure that it  responds to the public members of the  Executable::Param
interface.</p>

<p>This Factory gives you the ability to create new, custom parameter types by
simply ensuring they are available to Ruby before your executable is 
interpreted.</p>

<p>Following is an example of a custom Parameter:</p>

<pre class="code"><span class='kw'>class</span> <span class='const'>CustomParam</span> <span class='op'>&lt;</span> <span class='const'>Sprout</span><span class='op'>::</span><span class='const'>Executable</span><span class='op'>::</span><span class='const'>Param</span>

  <span class='kw'>def</span> <span class='id to_shell'>to_shell</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--foo-bar=</span><span class='embexpr_beg'>#{</span><span class='id value'>value</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>

<p>Following is an example Executable that can consume the above parameter:</p>

<pre class="code"><span class='id require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>custom_param</span><span class='tstring_end'>'</span></span>

<span class='kw'>class</span> <span class='const'>Foo</span>
  <span class='id include'>include</span> <span class='const'>Sprout</span><span class='op'>::</span><span class='const'>Executable</span>

  <span class='id add_param'>add_param</span> <span class='symbol'>:name</span><span class='comma'>,</span> <span class='const'>CustomParam</span>

<span class='kw'>end</span></pre>

<p>That's it, there is no need to register your custom types with the Factory,
just get it into your load path and  require it.</p>


  </div>
</div>
<div class="tags">
  
</div>


  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create-class_method" title="create (class method)">+ (Object) <strong>create</strong>(type) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This factory allows us to use classes by  reference in the Executable
interface.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="create-class_method">
  
    + (<tt>Object</tt>) <strong>create</strong>(type) 
  

  
</p><div class="docstring">
  <div class="discussion">
    
<p>This factory allows us to use classes by  reference in the Executable
interface.  Since there are already Ruby primitives for String and File and
we don't want to clobber  them, we use this factory to convert those to the
appropriate types.</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


54
55
56
57
58
59
60
61
62</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'sprout/lib/sprout/executable/parameter_factory.rb', line 54</span>

<span class='kw'>def</span> <span class='id create'>create</span> <span class='id type'>type</span>
  <span class='comment'># Didn't want to clobber the stdlib references
</span>  <span class='comment'># to these two important data types...
</span>  <span class='comment'># But wanted to keep the add_param interface
</span>  <span class='comment'># clean and simple.
</span>  <span class='kw'>return</span> <span class='const'>StringParam</span><span class='period'>.</span><span class='id new'>new</span> <span class='kw'>if</span> <span class='id type'>type</span> <span class='op'>==</span> <span class='const'>String</span>
  <span class='kw'>return</span> <span class='const'>FileParam</span><span class='period'>.</span><span class='id new'>new</span> <span class='kw'>if</span> <span class='id type'>type</span> <span class='op'>==</span> <span class='const'>File</span>
  <span class='id type'>type</span><span class='period'>.</span><span class='id new'>new</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Tue Dec 28 12:34:51 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.3 (ruby-1.9.2).
</div>

  </body>
</html>